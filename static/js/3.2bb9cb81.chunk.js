(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{472:function(e,t,c){e.exports={messageBlock:"Chat_messageBlock__SbiPy",messagesContainer:"Chat_messagesContainer__t6XAb"}},475:function(e,t,c){"use strict";c.r(t);var s=c(158),n=c(0),r=c.n(n),a=c(472),i=c.n(a),j=c(14),o=c(211),u=c(1),b=function(){var e=Object(j.c)(),t=Object(j.d)((function(e){return e.chat.status}));return Object(n.useEffect)((function(){return e(Object(o.c)()),function(){e(Object(o.d)())}}),[]),Object(u.jsxs)("div",{children:["error"===t&&Object(u.jsx)("div",{children:"Some error occurred.Please refresh page."}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d,{}),Object(u.jsx)(O,{})]})]})},d=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(j.d)((function(e){return e.chat.messages})),o=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;c&&(null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[a]),Object(u.jsxs)("div",{className:i.a.messagesContainer,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!c&&r(!0):c&&r(!1)},children:[a.map((function(e){return Object(u.jsx)(l,{photo:e.photo,userName:e.userName,message:e.message},e.id)})),Object(u.jsx)("div",{ref:o})]})},l=r.a.memo((function(e){var t=e.photo,c=e.userName,s=e.message;return Object(u.jsxs)("div",{className:i.a.messageBlock,children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:t})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:c}),Object(u.jsx)("div",{children:s})]})]})})),O=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(j.d)((function(e){return e.chat.status})),i=Object(j.c)();return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(e){return r(e.currentTarget.value)},value:c})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){c&&(i(Object(o.b)(c)),r(""))},disabled:"ready"!==a,children:"send"})})]})};t.default=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(b,{})})}}}]);
//# sourceMappingURL=3.2bb9cb81.chunk.js.map