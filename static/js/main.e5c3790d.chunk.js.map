{"version":3,"sources":["components/Dialogs/Message/Message.module.css","components/common/Preloader/Preloader.module.css","components/Navbar/Friends/FriendItem/FriendItem.module.css","components/Users/Users.module.css","components/Navbar/Navbar.module.css","reportWebVitals.js","redux/dialogsReducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/common/FormsControl/FormsControl.jsx","utils/validators.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/common/Preloader/Preloader.jsx","components/Header/Header.jsx","api/api.js","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Friends/FriendItem/FriendItem.jsx","components/Navbar/Friends/Friends.jsx","components/Navbar/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","redux/profileReducer.js","assets/images/profile.png","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPostsForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileData.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","utils/object-helpers.js","redux/usersReducer.js","components/common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/LazyLoading.js","App.js","index.js","hoc/WithAuthRedirect.js","components/common/FormsControl/FormsControl.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css","components/Navbar/Friends/Friends.module.css","components/Profile/MyPosts/MyPosts.module.css","components/common/Pagination/Pagination.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ADD_MESSAGE","initialState","messagesData","id","message","dialogsData","name","img","dialogsReducer","state","action","type","newMessageBoddy","DialogItem","props","className","s","dialog","to","activeClassName","activeLink","item","src","Message","FormControl","input","meta","child","hasErr","error","touched","formControl","err","children","Textarea","restProps","Input","createField","placeholder","component","validators","text","Field","validate","required","value","maxLengthCreator","maxLength","length","maxLenght100","reduxForm","form","onSubmit","handleSubmit","Dialogs","dialogsElement","dialogsPage","map","d","messagesElements","m","dialogs","dialogsItems","messages","addBlock","addMessgeBtt","compose","connect","dispatch","addMessge","withAuthRedirect","Preloader","loader","Header","header","isFetching","loginBlock","isAuth","login","onClick","userLogOut","instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","response","data","unfollow","delete","follow","post","authAPI","email","password","rememberMe","profileAPI","userId","status","put","photoFile","formData","FormData","append","SET_USER_DATA","TOGGLE_IS_FETCHING","setAuthUserData","payload","authMe","a","resultCode","authReducer","HeaderContainer","this","React","Component","auth","LoginReduxForm","formSummaryError","userLogin","stopSubmit","_error","console","log","FriendItem","Friends","friendElement","elem","itemsBlock","sidebar","friendsData","Navbar","nav","users","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCES","TOOGLE_EDIT_MODE","postsData","profile","editMode","setStatus","profileReducer","postText","like","filter","p","postId","photos","Post","itemBox","itemContent","imgBox","large","profileDefault","maxLength70","MyPostReduxForm","PostsForm","addPostBtt","MyPosts","memo","postBlock","posts","MyPostsForm","MyPostsContainer","profilePage","addPost","ProfileStatusWithHooks","useState","setEditMode","useEffect","onDoubleClick","isOwner","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","EditModeOn","toggleEditMode","a0001","edit","infoBlock","infoBox","infoBoxItem","key","propertyString","aboutMe","lookingForAJob","property","lookingForAJobDescription","contactBox","Object","keys","contacts","contactTitle","contactValue","EditModeOff","Contacts","contactBoxItem","ProfileData","ProfileInfo","savePhoto","description","ava","profilePhoto","target","files","fullName","Profile","match","params","authorizedUserId","getProfileInfo","getStatus","refreshProfile","prevProps","withRouter","updateObjectInArray","items","itemId","objPropsName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_COUNT","TOGGLE_IS_FOLLOWING_PROGRESS","totalUsersCount","followingInProgress","portionSize","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","totalUsers","Pagination","totalItemsCount","onPageChanged","pagesCount","Math","ceil","before","after","styles","paginator","selectedPage","User","user","small","userPhoto","disabled","some","Users","getUsersData","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","pageNumber","bind","totalCount","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","LazyLoading","fallback","MusicContainer","lazy","NewsContainer","SettingsContainer","App","initializeApp","path","render","DialogsContainer","AppContainer","promise","Promise","all","SamuraiJSApp","StrictMode","ReactDOM","document","getElementById","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.e5c3790d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__37xmZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__lWjDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"FriendItem_item__3TBFh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2YoK6\",\"selectedPage\":\"Users_selectedPage__22Fmw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3Ojas\",\"item\":\"Navbar_item__2EV0a\",\"activeLink\":\"Navbar_activeLink__1VQ0J\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\nlet initialState = {\r\n  messagesData: [\r\n    { id: 1, message: 'Hi' },\r\n    { id: 2, message: 'How are you?' },\r\n    { id: 3, message: '42' },\r\n  ],\r\n  dialogsData: [\r\n    {\r\n      id: 1,\r\n      name: 'Dima',\r\n      img: 'https://meragor.com/files/styles//ava_800_800_wm/standoff_162.jpg',\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Andrey',\r\n      img: 'https://avatars.mds.yandex.net/get-zen_doc/3512693/pub_5efb3ff066fe1d5006536937_5efb4be4cdd4d637ce0fd2e8/scale_1200',\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Maxim',\r\n      img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTn8H3mqnU943_lgdPtj-JIGRjyKAlp3FSLzg&usqp=CAU',\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'Ghena',\r\n      img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSx5wghphVB-NTZeDHzsjPFUGY2_V-yPNnq1g&usqp=CAU',\r\n    },\r\n    {\r\n      id: 5,\r\n      name: 'Renat',\r\n      img: 'http://pristor.ru/wp-content/uploads/2019/01/%D0%A8%D0%B8%D0%BA%D0%B0%D1%80%D0%BD%D1%8B%D0%B5-%D0%B0%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D0%B8-%D0%B4%D0%BB%D1%8F-%D0%92%D0%9A%D0%BE%D0%BD%D1%82%D0%B0%D0%BA%D1%82%D0%B5-%D0%B4%D0%B5%D0%B2%D1%83%D1%88%D0%BA%D0%B0%D0%BC-%D0%B8-%D0%B4%D0%B5%D0%B2%D0%BE%D1%87%D0%BA%D0%B0%D0%BC-%D0%BF%D0%BE%D0%B4%D0%B1%D0%BE%D1%80%D0%BA%D0%B0-4.jpg',\r\n    },\r\n    {\r\n      id: 6,\r\n      name: 'Sasha',\r\n      img: 'https://cs-love.net/avatars/images/cs-love-avatar-0.jpg',\r\n    },\r\n    {\r\n      id: 7,\r\n      name: 'Victor',\r\n      img: 'https://sovietgames.su/wp-content/uploads/2016/07/%D0%90%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D0%B0.jpg',\r\n    },\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messagesData: [\r\n          ...state.messagesData,\r\n          {\r\n            id: 1,\r\n            message: action.newMessageBoddy,\r\n          },\r\n        ],\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addMessge = (newMessageBoddy) => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageBoddy,\r\n})\r\n\r\nexport default dialogsReducer\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './DialogItem.module.css'\r\n\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={s.dialog}>\r\n      <NavLink to={`/dialogs/${props.id}`} activeClassName={s.activeLink}>\r\n        <div className={s.item}>\r\n          <img src={props.img}></img>\r\n          <div className={s.name}>{props.name}</div>\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogItem\r\n","import React from 'react'\r\nimport s from './Message.module.css'\r\n\r\nconst Message = (props) => {\r\n  return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport s from './FormsControl.module.css'\r\nimport { Field } from 'redux-form'\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n  const hasErr = meta.error && meta.touched\r\n  return (\r\n    <div className={`${s.formControl} ${hasErr ? s.err : ''}`}>\r\n      <div>{props.children}</div>\r\n      {hasErr && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  component,\r\n  validators,\r\n  type,\r\n  text = '',\r\n  props = {}\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={validators}\r\n        type={type}\r\n        {...props}\r\n      />\r\n      {text}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const required = (value) => {\r\n  if (value) return undefined\r\n\r\n  return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length > maxLength)\r\n    return `Max length is ${maxLength} symbols`\r\n  return undefined\r\n}\r\n","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Textarea } from '../../common/FormsControl/FormsControl'\r\nimport { maxLengthCreator, required } from '../../../utils/validators'\r\n\r\nconst maxLenght100 = maxLengthCreator(100)\r\n\r\nconst AddMessgeForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={Textarea}\r\n        name=\"newMessageBoddy\"\r\n        validate={[required, maxLenght100]}\r\n      />\r\n      <button>Send</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({ form: 'dialogAddMessageForm' })(AddMessgeForm)\r\n","import React from 'react'\r\nimport s from './Dialogs.module.css'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport AddMessgeForm from './AddMessageForm/AddMessageForm'\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsElement = props.dialogsPage.dialogsData.map((d) => (\r\n    <DialogItem id={d.id} name={d.name} img={d.img} key={d.id} />\r\n  ))\r\n\r\n  let messagesElements = props.dialogsPage.messagesData.map((m) => (\r\n    <Message message={m.message} key={m.id} />\r\n  ))\r\n\r\n  let sendMessage = (value) => {\r\n    props.addMessgeBtt(value.newMessageBoddy)\r\n  }\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>{dialogsElement}</div>\r\n      <div className={s.messages}>\r\n        {messagesElements}\r\n        <div className={s.addBlock}>\r\n          <AddMessgeForm onSubmit={sendMessage} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport { addMessge } from '../../redux/dialogsReducer'\r\nimport Dialogs from './Dialogs'\r\nimport { connect } from 'react-redux'\r\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nlet mapStateToPropos = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addMessgeBtt: (newMessageBoddy) => {\r\n      dispatch(addMessge(newMessageBoddy))\r\n    },\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToPropos, mapDispatchToProps),\r\n  withAuthRedirect\r\n)(Dialogs)\r\n","import React from 'react'\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = () => {\r\n  return (\r\n    <img\r\n      className={s.loader}\r\n      src={'https://samherbert.net/svg-loaders/svg-loaders/puff.svg'}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport s from './Header.module.css'\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      {props.isFetching ? (\r\n        <Preloader />\r\n      ) : (\r\n        <div className={s.loginBlock}>\r\n          {props.isAuth ? (\r\n            <div>\r\n              <div>{props.login}</div>\r\n              <div>\r\n                <NavLink\r\n                  to={'/login'}\r\n                  className={s.login}\r\n                  onClick={() => {\r\n                    props.userLogOut()\r\n                  }}\r\n                >\r\n                  Logout\r\n                </NavLink>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <NavLink to={'/login'}>Login</NavLink>\r\n          )}\r\n        </div>\r\n      )}\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  headers: {\r\n    'API-KEY': '8a9d7844-8f01-425a-adf0-76c5abdfd30b',\r\n  },\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data)\r\n  },\r\n  unfollow(id) {\r\n    return instance.delete(`follow/${id}`)\r\n  },\r\n  follow(id) {\r\n    return instance.post(`follow/${id}`, {})\r\n  },\r\n}\r\n\r\nexport const authAPI = {\r\n  auth() {\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe) {\r\n    return instance.post(`auth/login`, {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n    })\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfileInfo(userId) {\r\n    return instance.get(`profile/${userId}`)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {\r\n      status,\r\n    })\r\n  },\r\n  savePhoto(photoFile) {\r\n    let formData = new FormData()\r\n    formData.append('image', photoFile)\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    })\r\n  },\r\n}\r\n","import { authAPI } from '../api/api'\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nconst SET_USER_DATA = 'samurai-JS/auth/SET_USER_DATA'\r\nconst TOGGLE_IS_FETCHING = 'samurai-JS/auth/TOGGLE_IS_FETCHING'\r\n\r\nlet initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { id, email, login, isAuth },\r\n})\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n  let response = await authAPI.auth()\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data\r\n    dispatch(setAuthUserData(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const userLogin = (email, password, rememberMe) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(authMe())\r\n  } else {\r\n    let err =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : 'Some error'\r\n    dispatch(stopSubmit('login', { _error: err }))\r\n    console.log(response.data.messages[0])\r\n  }\r\n}\r\n\r\nexport const userLogOut = () => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import React from 'react'\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux'\r\nimport { userLogOut } from './../../redux/authReducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n  isFetching: state.auth.isFetching,\r\n})\r\n\r\nexport default connect(mapStateToProps, { userLogOut })(HeaderContainer)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { reduxForm } from 'redux-form'\r\nimport { userLogin } from '../../redux/authReducer'\r\nimport { createField, Input } from './../common/FormsControl/FormsControl'\r\nimport { required } from '../../utils/validators'\r\nimport { Redirect } from 'react-router'\r\nimport s from './../common/FormsControl/FormsControl.module.css'\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField('Email', 'email', Input, [required], null)}\r\n      {createField('Password', 'password', Input, [required], 'password')}\r\n      {createField(null, 'rememberMe', Input, [], 'checkbox', 'Remember me')}\r\n      {error && <div className={s.formSummaryError}>{error}</div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login',\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.userLogin(formData.email, formData.password, formData.rememberMe)\r\n  }\r\n\r\n  return props.isAuth ? (\r\n    <Redirect to={'/profile'} />\r\n  ) : (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default compose(connect(mapStateToProps, { userLogin }))(Login)\r\n","import React from 'react'\r\nimport s from './FriendItem.module.css'\r\n\r\nconst FriendItem = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img src={props.img}></img>\r\n      {props.name}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FriendItem\r\n","import React from 'react'\r\nimport FriendItem from './FriendItem/FriendItem'\r\nimport s from './Friends.module.css'\r\n\r\nconst Friends = (props) => {\r\n  let friendElement = props.state.map((elem) => (\r\n    <FriendItem name={elem.name} img={elem.img} />\r\n  ))\r\n\r\n  return (\r\n    <div className={s.item}>\r\n      <div className={s.text}>Friends</div>\r\n      <div className={s.itemsBlock}>{friendElement}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Friends\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Friends from './Friends'\r\n\r\nconst mapStateToPropos = (state) => {\r\n  return { state: state.sidebar.friendsData }\r\n}\r\n\r\nconst FriendsContainer = connect(mapStateToPropos)(Friends)\r\n\r\nexport default FriendsContainer\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport FriendsContainer from './Friends/FriendsContainer'\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/profile\" activeClassName={s.activeLink}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/news\" activeClassName={s.activeLink}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/music\" activeClassName={s.activeLink}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/settings\" activeClassName={s.activeLink}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.users}`}>\r\n        <NavLink to=\"/users\" activeClassName={s.activeLink}>\r\n          Find Users\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import { profileAPI } from '../api/api'\r\nconst ADD_POST = 'ADD_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCES = 'SAVE_PHOTO_SUCCES'\r\nconst TOOGLE_EDIT_MODE = 'TOOGLE_EDIT_MODE'\r\n\r\nlet initialState = {\r\n  postsData: [\r\n    { id: 1, message: 'How are you?' },\r\n    { id: 2, message: \"It's my first post\" },\r\n    { id: 3, message: \"It's my second post\" },\r\n    { id: 4, message: \"It's my 4th post\" },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n  editMode: false,\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        postsData: [\r\n          ...state.postsData,\r\n          {\r\n            id: 5,\r\n            message: action.postText,\r\n            like: 0,\r\n          },\r\n        ],\r\n      }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        postsData: state.postsData.filter((p) => p.id != action.postId),\r\n      }\r\n    }\r\n\r\n    case SET_USER_PROFILE:\r\n      return { ...state, profile: action.profile }\r\n\r\n    case SET_STATUS:\r\n      return { ...state, status: action.status }\r\n\r\n    case SAVE_PHOTO_SUCCES:\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n\r\n    case TOOGLE_EDIT_MODE:\r\n      return { ...state, editMode: action.editMode }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPost = (postText) => ({ type: ADD_POST, postText })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n})\r\n\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n})\r\n\r\nexport const savePhotoSucces = (photos) => ({ type: SAVE_PHOTO_SUCCES, photos })\r\n\r\nexport const toggleEditMode = (editMode) => ({\r\n  type: TOOGLE_EDIT_MODE,\r\n  editMode,\r\n})\r\n\r\nexport const getStatus = (userId) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n  }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status))\r\n    }\r\n  }\r\n}\r\n\r\nexport const getProfileInfo = (userId) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.getProfileInfo(userId)\r\n    dispatch(setUserProfile(response.data))\r\n  }\r\n}\r\n\r\nexport const savePhoto = (photoFile) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(photoFile)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(savePhotoSucces(response.data.data.photos))\r\n    }\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","export default __webpack_public_path__ + \"static/media/profile.5faf09a7.png\";","import React from 'react'\r\nimport s from './Post.module.css'\r\nimport profileDefault from './../../../../assets/images/profile.png'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.itemBox}>\r\n      <div className={s.itemContent}>\r\n        <div className={s.imgBox}>\r\n          <img src={props.profile.photos.large || profileDefault} />\r\n        </div>\r\n        <div className={s.text}>{props.message}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators'\r\nimport { Textarea } from '../../common/FormsControl/FormsControl'\r\nconst maxLength70 = maxLengthCreator(70)\r\n\r\nconst MyPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field name=\"postText\" component={Textarea} validate={maxLength70} />\r\n      </div>\r\n      <div>\r\n        <button>Add Post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst MyPostReduxForm = reduxForm({\r\n  form: 'login',\r\n})(MyPostForm)\r\n\r\nconst PostsForm = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.addPostBtt(formData.postText)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <MyPostReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostsForm\r\n","import React from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport MyPostsForm from './MyPostsForm'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\n\r\nconst MyPosts = React.memo((props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  return (\r\n    <div className={s.postBlock}>\r\n      <h3>My posts</h3>\r\n      <div className={s.posts}>\r\n        {props.postsData.map((elem) => {\r\n          return (\r\n            <Post\r\n              message={elem.message}\r\n              key={elem.id}\r\n              profile={props.profile}\r\n            />\r\n          )\r\n        })}\r\n      </div>\r\n      <div>\r\n        <MyPostsForm addPostBtt={props.addPostBtt} />\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default MyPosts\r\n","import React from 'react'\r\nimport { addPost } from '../../../redux/profileReducer'\r\nimport { connect } from 'react-redux'\r\nimport MyPosts from './MyPosts'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.profilePage.postsData,\r\n    profile: state.profilePage.profile,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPostBtt: (postText) => {\r\n      dispatch(addPost(postText))\r\n    },\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import React, { useEffect, useState } from 'react'\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  let [editMode, setEditMode] = useState(false)\r\n  let [status, setStatus] = useState(props.status)\r\n\r\n  let activateEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n\r\n  let deActivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatus(status)\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  return (\r\n    <div className={s.status}>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={props.isOwner && activateEditMode}>\r\n            {props.status || 'NO STATUS'}\r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            onChange={onStatusChange}\r\n            autoFocus={true}\r\n            onBlur={deActivateEditMode}\r\n            value={status}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatusWithHooks\r\n","import React from 'react'\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileData = ({ editMode, ...props }) => {\r\n  return (\r\n    <> {editMode ? <EditModeOn {...props} /> : <EditModeOff {...props} />}</>\r\n  )\r\n}\r\n\r\nconst EditModeOn = ({ profile, toggleEditMode, isOwner }) => {\r\n  return (\r\n    <div className={s.a0001}>\r\n      <div\r\n        className={s.edit}\r\n        onClick={() => {\r\n          toggleEditMode(false)\r\n        }}\r\n      >\r\n        Save\r\n      </div>\r\n\r\n      <div className={s.infoBlock}>\r\n        {/* InfoBlock */}\r\n        <div className={s.infoBox}>\r\n          Info\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}>About me:</span>\r\n            <span className={s.propertyString}> {profile.aboutMe}</span>\r\n          </div>\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}>IsLookingForJob:</span>\r\n            {profile.lookingForAJob ? (\r\n              <span className={s.property}> Yes</span>\r\n            ) : (\r\n              <span className={s.property}> No</span>\r\n            )}\r\n          </div>\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}> IsLookingForJobDescription:</span>\r\n            <span className={s.propertyString}>\r\n              {' '}\r\n              {profile.lookingForAJobDescription}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        {/* InfoBlock */}\r\n        {/* ContactsBlock */}\r\n        <div className={s.contactBox}>\r\n          Contacts\r\n          {Object.keys(profile.contacts).map((key) => {\r\n            return (\r\n              <Contacts\r\n                contactTitle={key}\r\n                contactValue={profile.contacts[key]}\r\n              />\r\n            )\r\n          })}\r\n        </div>\r\n        {/* ContactsBlock */}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst EditModeOff = ({ profile, toggleEditMode, isOwner }) => {\r\n  return (\r\n    <div className={s.a0001}>\r\n      {isOwner && (\r\n        <div\r\n          className={s.edit}\r\n          onClick={() => {\r\n            toggleEditMode(true)\r\n          }}\r\n        >\r\n          Edit Details\r\n        </div>\r\n      )}\r\n      <div className={s.infoBlock}>\r\n        {/* InfoBlock */}\r\n        <div className={s.infoBox}>\r\n          Info\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}>About me:</span>\r\n            <span className={s.propertyString}> {profile.aboutMe}</span>\r\n          </div>\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}>IsLookingForJob:</span>\r\n            {profile.lookingForAJob ? (\r\n              <span className={s.property}> Yes</span>\r\n            ) : (\r\n              <span className={s.property}> No</span>\r\n            )}\r\n          </div>\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}> IsLookingForJobDescription:</span>\r\n            <span className={s.propertyString}>\r\n              {' '}\r\n              {profile.lookingForAJobDescription}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        {/* InfoBlock */}\r\n        {/* ContactsBlock */}\r\n        <div className={s.contactBox}>\r\n          Contacts\r\n          {Object.keys(profile.contacts).map((key) => {\r\n            return (\r\n              <Contacts\r\n                contactTitle={key}\r\n                contactValue={profile.contacts[key]}\r\n              />\r\n            )\r\n          })}\r\n        </div>\r\n        {/* ContactsBlock */}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Contacts = ({ contactTitle, contactValue }) => {\r\n  return (\r\n    <div className={s.contactBoxItem}>\r\n      <span className={s.key}>{contactTitle}:</span>\r\n      <span className={s.property}> {contactValue}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileData\r\n","import React from 'react'\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport ProfileStatus from './ProfileStatusWithHooks.jsx'\r\nimport profilePhoto from './../../../assets/images/profile.png'\r\nimport ProfileData from './ProfileData'\r\n\r\nconst ProfileInfo = ({\r\n  profile,\r\n  status,\r\n  updateStatus,\r\n  isOwner,\r\n  savePhoto,\r\n  toggleEditMode,\r\n  editMode,\r\n}) => {\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={s.description}>\r\n      <div className={s.imgBox}>\r\n        <img className={s.ava} src={profile.photos.large || profilePhoto} />\r\n        {isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\r\n      </div>\r\n      <div>\r\n        <div className={s.name}>{profile.fullName}</div>\r\n        <ProfileStatus\r\n          isOwner={isOwner}\r\n          status={status}\r\n          updateStatus={updateStatus}\r\n        />\r\n        <ProfileData\r\n          profile={profile}\r\n          toggleEditMode={toggleEditMode}\r\n          isOwner={isOwner}\r\n          editMode={editMode}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo\r\n","import React from 'react'\r\nimport {\r\n  getProfileInfo,\r\n  getStatus,\r\n  updateStatus,\r\n  savePhoto,\r\n  toggleEditMode,\r\n} from '../../redux/profileReducer'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router'\r\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect'\r\nimport { compose } from 'redux'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nclass Profile extends React.Component {\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId\r\n    }\r\n    this.props.getProfileInfo(userId)\r\n    this.props.getStatus(userId)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile()\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n      this.refreshProfile()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ProfileInfo\r\n          {...this.props}\r\n          isOwner={!this.props.match.params.userId}\r\n        />\r\n        <MyPostsContainer />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.id,\r\n  isAuth: state.auth.isAuth,\r\n  editMode: state.profilePage.editMode,\r\n})\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  withRouter,\r\n  connect(mapStateToProps, {\r\n    getProfileInfo,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    toggleEditMode,\r\n  })\r\n)(Profile)\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropsName,\r\n  newObjProps\r\n) => {\r\n  return items.map((u) => {\r\n    if (u[objPropsName] === itemId) {\r\n      return { ...u, ...newObjProps }\r\n    }\r\n    return u\r\n  })\r\n}\r\n","import { usersAPI } from '../api/api'\r\nimport { updateObjectInArray } from '../utils/object-helpers'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_USERS_COUNT = 'SET_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 13,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n  portionSize: 10,\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: true,\r\n        }),\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: false,\r\n        }),\r\n      }\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      }\r\n\r\n    case SET_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.totalUsers }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.followingInProgress\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({\r\n  type: FOLLOW,\r\n  userId,\r\n})\r\n\r\nexport const unfollowSuccess = (userId) => ({\r\n  type: UNFOLLOW,\r\n  userId,\r\n})\r\n\r\nexport const setUsers = (users) => ({\r\n  type: SET_USERS,\r\n  users,\r\n})\r\n\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n})\r\n\r\nexport const setTotalUsersCount = (totalUsers) => ({\r\n  type: SET_USERS_COUNT,\r\n  totalUsers,\r\n})\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\n\r\nexport const toggleIsFollowingProgress = (followingInProgress, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  followingInProgress,\r\n  userId,\r\n})\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(currentPage))\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleIsFollowingProgress(true, userId))\r\n  let response = await apiMethod(userId)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.follow.bind(userId),\r\n      followSuccess\r\n    )\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.unfollow.bind(userId),\r\n      unfollowSuccess\r\n    )\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import React from 'react'\r\nimport styles from './Pagination.module.css'\r\n\r\nlet Pagination = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n  let before = currentPage - 1\r\n  before = before < 1 ? null : before\r\n  let after = currentPage + 1\r\n  after = after >= pagesCount ? null : after\r\n\r\n  return (\r\n    <div className={styles.paginator}>\r\n      {/* pagination */}\r\n      {/* first page */}\r\n      <div>\r\n        {currentPage === 1 ? null : (\r\n          <>\r\n            <span\r\n              onClick={() => {\r\n                onPageChanged(1)\r\n              }}\r\n            >\r\n              {1}\r\n            </span>\r\n            <span>...</span>\r\n          </>\r\n        )}\r\n\r\n        {/* first page */}\r\n        {/* before current page */}\r\n        <span\r\n          onClick={() => {\r\n            onPageChanged(before)\r\n          }}\r\n        >\r\n          {currentPage < 3 ? null : <span>{before}</span>}\r\n        </span>\r\n        {/* before current page */}\r\n        {/* current page */}\r\n        <span>\r\n          {currentPage < 3 ? null : <span>..</span>}\r\n          <span className={styles.selectedPage}>{currentPage}</span>\r\n          {currentPage > pagesCount - 2 ? null : <span>..</span>}\r\n        </span>\r\n        {/* current page */}\r\n        {/* after current page */}\r\n        <span\r\n          onClick={() => {\r\n            onPageChanged(after)\r\n          }}\r\n        >\r\n          {after}\r\n        </span>\r\n        {/* after current page */}\r\n        {/* last page */}\r\n\r\n        {currentPage === pagesCount ? null : (\r\n          <>\r\n            <span>...</span>\r\n            <span\r\n              onClick={() => {\r\n                onPageChanged(pagesCount)\r\n              }}\r\n            >\r\n              {pagesCount}\r\n            </span>\r\n          </>\r\n        )}\r\n        {/* last page */}\r\n      </div>\r\n      {/* pagination */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport styles from './Users.module.css'\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        <NavLink to={`/profile/${user.id}`}>\r\n          <img\r\n            src={\r\n              user.photos.small != null\r\n                ? user.photos.small\r\n                : 'https://www.pavilionweb.com/wp-content/uploads/2017/03/man-300x300.png'\r\n            }\r\n            className={styles.userPhoto}\r\n          />\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        {user.followed ? (\r\n          <button\r\n            disabled={followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              unfollow(user.id)\r\n            }}\r\n          >\r\n            Unfollow\r\n          </button>\r\n        ) : (\r\n          <button\r\n            disabled={followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              follow(user.id)\r\n            }}\r\n          >\r\n            Follow\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div>{user.name}</div>\r\n      <div>{user.status}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport Pagination from '../common/Pagination/Pagination'\r\nimport User from './User'\r\n\r\nlet Users = ({\r\n  currentPage,\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  portionSize,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalItemsCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n        portionSize={portionSize}\r\n      />\r\n      {users.map((u) => (\r\n        <User\r\n          user={u}\r\n          key={u.id}\r\n          followingInProgress={props.followingInProgress}\r\n          unfollow={props.unfollow}\r\n          follow={props.follow}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","import { createSelector } from 'reselect'\r\n\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getUsersData = createSelector(getUsersSelector, (users) => {\r\n  return users.filter((u) => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\nexport const getPortionSize = (state) => {\r\n  return state.usersPage.portionSize\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  setCurrentPage,\r\n  getUsers,\r\n} from '../../redux/usersReducer'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { compose } from 'redux'\r\nimport {\r\n  getIsFetching,\r\n  getPageSize,\r\n  getUsersData,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getPortionSize,\r\n} from '../../redux/usersSelectors'\r\nimport { withAuthRedirect } from './../../hoc/WithAuthRedirect'\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.setCurrentPage(pageNumber)\r\n    this.props.getUsers(pageNumber, this.props.pageSize)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? (\r\n          <Preloader />\r\n        ) : (\r\n          <Users\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            pageSize={this.props.pageSize}\r\n            portionSize={this.props.portionSize}\r\n            currentPage={this.props.currentPage}\r\n            onPageChanged={this.onPageChanged}\r\n            users={this.props.users}\r\n            follow={this.props.follow}\r\n            unfollow={this.props.unfollow}\r\n            followingInProgress={this.props.followingInProgress}\r\n          />\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersData(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n    portionSize: getPortionSize(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  // withAuthRedirect,\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    getUsers,\r\n  })\r\n)(UsersContainer)\r\n","import { authMe } from './authReducer'\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(authMe())\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\nexport default appReducer\r\n","let initialState = {\r\n  friendsData: [\r\n    {\r\n      name: 'Dima',\r\n      img: 'https://meragor.com/files/styles//ava_800_800_wm/standoff_162.jpg',\r\n    },\r\n    {\r\n      name: 'Andrey',\r\n      img:\r\n        'https://avatars.mds.yandex.net/get-zen_doc/3512693/pub_5efb3ff066fe1d5006536937_5efb4be4cdd4d637ce0fd2e8/scale_1200',\r\n    },\r\n    {\r\n      name: 'Maxim',\r\n      img:\r\n        'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTn8H3mqnU943_lgdPtj-JIGRjyKAlp3FSLzg&usqp=CAU',\r\n    },\r\n  ],\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\r\nimport authReducer from './authReducer'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport profileReducer from './profileReducer'\r\nimport sidebarReducer from './sidebarReducer'\r\nimport usersReducer from './usersReducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './appReducer'\r\n\r\nlet reducers = combineReducers({\r\n  dialogsPage: dialogsReducer,\r\n  profilePage: profileReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n)\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store\r\n","import React, { Suspense } from 'react'\r\nimport Preloader from '../components/common/Preloader/Preloader'\r\n\r\nexport const LazyLoading = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <>\r\n        <Suspense fallback={<Preloader />}>\r\n          <Component {...props} />\r\n        </Suspense>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LazyLoading\r\n","import React from 'react'\nimport { Component } from 'react'\nimport { HashRouter, Route, withRouter } from 'react-router-dom'\nimport './App.css'\nimport DialogsContainer from './components/Dialogs/DialogsContainer'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport Login from './components/Login/Login'\nimport Navbar from './components/Navbar/Navbar'\nimport Profile from './components/Profile/Profile'\nimport UsersContainer from './components/Users/UsersContainer'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { initializeApp } from './redux/appReducer'\nimport Preloader from './components/common/Preloader/Preloader'\nimport store from './redux/reduxStore'\nimport { Provider } from 'react-redux'\nimport LazyLoading from './hoc/LazyLoading'\n\nconst MusicContainer = React.lazy(() => import('./components/Music/Music'))\nconst NewsContainer = React.lazy(() => import('./components/News/News'))\nconst SettingsContainer = React.lazy(() =>\n  import('./components/Settings/Settings')\n)\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if (!this.props.initialized) return <Preloader />\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <div className=\"all-info-page\">\n          <Navbar />\n          <div className=\"contextBox\">\n            <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n            <Route path=\"/profile/:userId?\" render={() => <Profile />} />\n            <Route path=\"/music\" render={LazyLoading(MusicContainer)} />\n            <Route path=\"/news\" render={LazyLoading(NewsContainer)} />\n            <Route path=\"/settings\" render={LazyLoading(SettingsContainer)} />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n            <Route path=\"/login\" render={() => <Login />} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n})\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App)\n\nconst SamuraiJSApp = (props) => {\n  return (\n    <React.StrictMode>\n      <HashRouter>\n        <Provider store={store}>\n          <AppContainer />\n        </Provider>\n      </HashRouter>\n    </React.StrictMode>\n  )\n}\n\nexport default SamuraiJSApp\n","import reportWebVitals from './reportWebVitals'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport SamuraiJSApp from './App'\n\nReactDOM.render(<SamuraiJSApp />, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  )\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__3c4w2\",\"err\":\"FormsControl_err__A2dut\",\"formSummaryError\":\"FormsControl_formSummaryError__JSrAT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__35PTw\",\"dialogsItems\":\"Dialogs_dialogsItems__1LdbS\",\"addBlock\":\"Dialogs_addBlock__i-3rP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__28SWE\",\"item\":\"DialogItem_item__1tDvT\",\"name\":\"DialogItem_name__Jg0N_\",\"activeLink\":\"DialogItem_activeLink__Dlkmc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemBox\":\"Post_itemBox__2J8Mx\",\"itemContent\":\"Post_itemContent__qLEcN\",\"imgBox\":\"Post_imgBox__3E9VG\",\"text\":\"Post_text__1Gw6X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__dIfKa\",\"imgBox\":\"ProfileInfo_imgBox__10WHV\",\"ava\":\"ProfileInfo_ava__3A2Or\",\"name\":\"ProfileInfo_name__3J0j-\",\"status\":\"ProfileInfo_status__3QP5Y\",\"a0001\":\"ProfileInfo_a0001__IGcPV\",\"edit\":\"ProfileInfo_edit__1JZbG\",\"infoBlock\":\"ProfileInfo_infoBlock__te5So\",\"infoBox\":\"ProfileInfo_infoBox__14u83\",\"infoBoxItem\":\"ProfileInfo_infoBoxItem__2Tu06\",\"contactBox\":\"ProfileInfo_contactBox__oDnUj\",\"contactBoxItem\":\"ProfileInfo_contactBoxItem__1Hxns\",\"key\":\"ProfileInfo_key__12JgN\",\"property\":\"ProfileInfo_property__7YOSF\",\"propertyString\":\"ProfileInfo_propertyString__3VxKN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1aDUx\",\"loginBlock\":\"Header_loginBlock__3SCHH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemsBlock\":\"Friends_itemsBlock__3bDhi\",\"item\":\"Friends_item__7NXy_\",\"text\":\"Friends_text__16d5D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__15PaX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Pagination_selectedPage__2ynfE\",\"paginator\":\"Pagination_paginator__1DnLe\",\"pageNumber\":\"Pagination_pageNumber__1D9IR\"};"],"sourceRoot":""}