(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{478:function(e,t,a){e.exports={chat__page__block:"Chat_chat__page__block__3A2gz",messagesContainer:"Chat_messagesContainer__t6XAb",messageBlock:"Chat_messageBlock__SbiPy",avatar__container:"Chat_avatar__container__1-iid",user__name:"Chat_user__name__1EzGZ",text__message:"Chat_text__message__2x3G0",add__message__form__container:"Chat_add__message__form__container__1fAgv",button__container:"Chat_button__container__1wl0X"}},481:function(e,t,a){"use strict";a.r(t);var c=a(164),s=a(0),n=a.n(s),r=a(478),_=a.n(r),i=a(14),o=a(218),j=a(236),u=a(123),b=a(82),l=a(1),m=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.chat.status}));return Object(s.useEffect)((function(){return e(Object(o.c)()),function(){e(Object(o.d)())}}),[]),Object(l.jsxs)(l.Fragment,{children:["error"===t&&Object(l.jsx)("div",{children:"Some error occurred.Please refresh page."}),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(O,{})]})]})},d=function(){var e=Object(s.useState)(!0),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Object(i.d)((function(e){return e.chat.messages})),o=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e;a&&(null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[r]),Object(l.jsxs)("div",{className:_.a.messagesContainer,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!a&&n(!0):a&&n(!1)},children:[r.map((function(e){return Object(l.jsx)(h,{photo:e.photo,userName:e.userName,message:e.message},e.id)})),Object(l.jsx)("div",{ref:o})]})},h=n.a.memo((function(e){var t=e.photo,a=e.userName,c=e.message;return Object(l.jsxs)("div",{className:_.a.messageBlock,children:[Object(l.jsx)("label",{className:_.a.avatar__container,children:Object(l.jsx)("img",{src:t||b.a})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:_.a.user__name,children:a}),Object(l.jsx)("div",{className:_.a.text__message,children:c})]})]})})),O=function(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Object(i.d)((function(e){return e.chat.status})),b=Object(i.c)();return Object(l.jsxs)("div",{className:_.a.add__message__form__container,children:[Object(l.jsx)(u.a,{onChange:function(e){return n(e.currentTarget.value)},value:a}),Object(l.jsx)("div",{className:_.a.button__container,children:Object(l.jsx)(j.a,{onClick:function(){a&&(b(Object(o.b)(a)),n(""))},disabled:"ready"!==r,children:"send"})})]})};t.default=function(){return Object(l.jsx)("div",{className:_.a.chat__page__block,children:Object(l.jsx)(m,{})})}}}]);
//# sourceMappingURL=3.b96681ee.chunk.js.map