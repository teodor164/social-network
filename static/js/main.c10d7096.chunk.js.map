{"version":3,"sources":["components/Dialogs/Message/Message.module.css","components/common/Preloader/Preloader.module.css","components/Users/Users.module.css","components/Navbar/Navbar.module.css","reportWebVitals.js","redux/dialogsReducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/common/FormsControl/FormsControl.jsx","utils/validators.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/common/Preloader/Preloader.jsx","components/Header/Header.jsx","api/api.js","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Navbar.jsx","redux/profileReducer.js","assets/images/profile.png","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPostsForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileData/EditeMode.jsx","components/Profile/ProfileInfo/ProfileData/ProfileData.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfileContainer.jsx","utils/object-helpers.js","redux/usersReducer.js","components/common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/LazyLoading.js","App.js","index.js","hoc/WithAuthRedirect.js","components/common/FormsControl/FormsControl.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css","components/Profile/MyPosts/MyPosts.module.css","components/common/Pagination/Pagination.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ADD_MESSAGE","initialState","messagesData","id","message","dialogsData","name","img","dialogsReducer","state","action","type","newMessageBoddy","DialogItem","props","className","s","dialog","to","activeClassName","activeLink","item","src","Message","FormControl","input","meta","child","hasErr","error","touched","formControl","err","children","Textarea","restProps","Input","createField","placeholder","component","validators","text","Field","validate","required","value","maxLengthCreator","maxLength","length","maxLenght100","reduxForm","form","onSubmit","handleSubmit","Dialogs","dialogsElement","dialogsPage","map","d","messagesElements","m","dialogs","dialogsItems","messages","addBlock","addMessgeBtt","compose","connect","dispatch","addMessge","withAuthRedirect","Preloader","loader","Header","header","isFetching","loginBlock","isAuth","login","onClick","userLogOut","instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","response","data","unfollow","delete","follow","post","authAPI","email","password","rememberMe","captcha","profileAPI","userId","status","put","photoFile","formData","FormData","append","securityAPI","SET_USER_DATA","TOGGLE_IS_FETCHING","GET_CAPTCHA","captchaUrl","setAuthUserData","payload","authMe","a","resultCode","getCaptchaUrl","url","authReducer","HeaderContainer","this","React","Component","auth","LoginReduxForm","formSummaryError","userLogin","stopSubmit","_error","Navbar","nav","users","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCES","TOOGLE_EDIT_MODE","postsData","profile","editMode","setStatus","toggleEditMode","getProfileInfo","profileReducer","postText","like","filter","p","postId","photos","Post","itemBox","itemContent","imgBox","large","profileDefault","maxLength70","MyPostReduxForm","PostsForm","addPostBtt","MyPosts","memo","postBlock","posts","elem","MyPostsForm","MyPostsContainer","profilePage","addPost","ProfileStatus","useState","setEditMode","useEffect","onDoubleClick","isOwner","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","EditeModeFormRedux","infoBlock","infoBox","infoBoxItem","key","Object","keys","contacts","contactBoxItem","property","EditeMode","submit","saveData","a0001","edit","initialValues","StaticProfileData","propertyString","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contacts","ProfileData","ProfileInfo","savePhoto","description","ava","profilePhoto","target","files","Profile","match","params","authorizedUserId","getStatus","refreshProfile","prevProps","withRouter","getState","updateObjectInArray","items","itemId","objPropsName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_COUNT","TOGGLE_IS_FOLLOWING_PROGRESS","totalUsersCount","followingInProgress","portionSize","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","totalUsers","Pagination","totalItemsCount","onPageChanged","pagesCount","Math","ceil","before","after","styles","paginator","selectedPage","User","user","small","userPhoto","disabled","some","Users","getUsersData","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","getIsAuth","UsersContainer","pageNumber","bind","totalCount","INITIALIZED_SUCCESS","initialized","appReducer","friendsData","sidebarReducer","reducers","combineReducers","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","LazyLoading","fallback","SettingsContainer","lazy","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","console","initializeApp","addEventListener","removeEventListener","exact","render","path","DialogsContainer","AppContainer","promise","Promise","all","SamuraiJSApp","StrictMode","ReactDOM","document","getElementById","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.c10d7096.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__37xmZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__lWjDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2YoK6\",\"selectedPage\":\"Users_selectedPage__22Fmw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3Ojas\",\"item\":\"Navbar_item__2EV0a\",\"activeLink\":\"Navbar_activeLink__1VQ0J\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\nlet initialState = {\r\n  messagesData: [\r\n    { id: 1, message: 'Hi' },\r\n    { id: 2, message: 'How are you?' },\r\n    { id: 3, message: '42' },\r\n  ],\r\n  dialogsData: [\r\n    {\r\n      id: 1,\r\n      name: 'Dima',\r\n      img: 'https://meragor.com/files/styles//ava_800_800_wm/standoff_162.jpg',\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Andrey',\r\n      img: 'https://avatars.mds.yandex.net/get-zen_doc/3512693/pub_5efb3ff066fe1d5006536937_5efb4be4cdd4d637ce0fd2e8/scale_1200',\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Maxim',\r\n      img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTn8H3mqnU943_lgdPtj-JIGRjyKAlp3FSLzg&usqp=CAU',\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'Ghena',\r\n      img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSx5wghphVB-NTZeDHzsjPFUGY2_V-yPNnq1g&usqp=CAU',\r\n    },\r\n    {\r\n      id: 5,\r\n      name: 'Renat',\r\n      img: 'http://pristor.ru/wp-content/uploads/2019/01/%D0%A8%D0%B8%D0%BA%D0%B0%D1%80%D0%BD%D1%8B%D0%B5-%D0%B0%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D0%B8-%D0%B4%D0%BB%D1%8F-%D0%92%D0%9A%D0%BE%D0%BD%D1%82%D0%B0%D0%BA%D1%82%D0%B5-%D0%B4%D0%B5%D0%B2%D1%83%D1%88%D0%BA%D0%B0%D0%BC-%D0%B8-%D0%B4%D0%B5%D0%B2%D0%BE%D1%87%D0%BA%D0%B0%D0%BC-%D0%BF%D0%BE%D0%B4%D0%B1%D0%BE%D1%80%D0%BA%D0%B0-4.jpg',\r\n    },\r\n    {\r\n      id: 6,\r\n      name: 'Sasha',\r\n      img: 'https://cs-love.net/avatars/images/cs-love-avatar-0.jpg',\r\n    },\r\n    {\r\n      id: 7,\r\n      name: 'Victor',\r\n      img: 'https://sovietgames.su/wp-content/uploads/2016/07/%D0%90%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D0%B0.jpg',\r\n    },\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messagesData: [\r\n          ...state.messagesData,\r\n          {\r\n            id: 1,\r\n            message: action.newMessageBoddy,\r\n          },\r\n        ],\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addMessge = (newMessageBoddy) => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageBoddy,\r\n})\r\n\r\nexport default dialogsReducer\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './DialogItem.module.css'\r\n\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={s.dialog}>\r\n      <NavLink to={`/dialogs/${props.id}`} activeClassName={s.activeLink}>\r\n        <div className={s.item}>\r\n          <img src={props.img}></img>\r\n          <div className={s.name}>{props.name}</div>\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogItem\r\n","import React from 'react'\r\nimport s from './Message.module.css'\r\n\r\nconst Message = (props) => {\r\n  return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport s from './FormsControl.module.css'\r\nimport { Field } from 'redux-form'\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n  const hasErr = meta.error && meta.touched\r\n  return (\r\n    <div className={`${s.formControl} ${hasErr ? s.err : ''}`}>\r\n      <div>{props.children}</div>\r\n      {hasErr && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  component,\r\n  validators,\r\n  type,\r\n  text = '',\r\n  props = {}\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={validators}\r\n        type={type}\r\n        {...props}\r\n      />\r\n      {text}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const required = (value) => {\r\n  if (value) return undefined\r\n\r\n  return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length > maxLength)\r\n    return `Max length is ${maxLength} symbols`\r\n  return undefined\r\n}\r\n","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Textarea } from '../../common/FormsControl/FormsControl'\r\nimport { maxLengthCreator, required } from '../../../utils/validators'\r\n\r\nconst maxLenght100 = maxLengthCreator(100)\r\n\r\nconst AddMessgeForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={Textarea}\r\n        name=\"newMessageBoddy\"\r\n        validate={[required, maxLenght100]}\r\n      />\r\n      <button>Send</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({ form: 'dialogAddMessageForm' })(AddMessgeForm)\r\n","import React from 'react'\r\nimport s from './Dialogs.module.css'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport AddMessgeForm from './AddMessageForm/AddMessageForm'\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsElement = props.dialogsPage.dialogsData.map((d) => (\r\n    <DialogItem id={d.id} name={d.name} img={d.img} key={d.id} />\r\n  ))\r\n\r\n  let messagesElements = props.dialogsPage.messagesData.map((m) => (\r\n    <Message message={m.message} key={m.id} />\r\n  ))\r\n\r\n  let sendMessage = (value) => {\r\n    props.addMessgeBtt(value.newMessageBoddy)\r\n  }\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>{dialogsElement}</div>\r\n      <div className={s.messages}>\r\n        {messagesElements}\r\n        <div className={s.addBlock}>\r\n          <AddMessgeForm onSubmit={sendMessage} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport { addMessge } from '../../redux/dialogsReducer'\r\nimport Dialogs from './Dialogs'\r\nimport { connect } from 'react-redux'\r\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nlet mapStateToPropos = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => ({\r\n  addMessgeBtt: (newMessageBoddy) => {\r\n    dispatch(addMessge(newMessageBoddy))\r\n  },\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToPropos, mapDispatchToProps),\r\n  withAuthRedirect\r\n)(Dialogs)\r\n","import React from 'react'\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = () => {\r\n  return (\r\n    <img\r\n      className={s.loader}\r\n      src={'https://samherbert.net/svg-loaders/svg-loaders/puff.svg'}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport s from './Header.module.css'\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      {props.isFetching ? (\r\n        <Preloader />\r\n      ) : (\r\n        <div className={s.loginBlock}>\r\n          {props.isAuth ? (\r\n            <div>\r\n              <div>{props.login}</div>\r\n              <div>\r\n                <NavLink\r\n                  to={'/login'}\r\n                  className={s.login}\r\n                  onClick={() => {\r\n                    props.userLogOut()\r\n                  }}\r\n                >\r\n                  Logout\r\n                </NavLink>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <NavLink to={'/login'}>Login</NavLink>\r\n          )}\r\n        </div>\r\n      )}\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  headers: {\r\n    'API-KEY': '8a9d7844-8f01-425a-adf0-76c5abdfd30b',\r\n  },\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data)\r\n  },\r\n  unfollow(id) {\r\n    return instance.delete(`follow/${id}`)\r\n  },\r\n  follow(id) {\r\n    return instance.post(`follow/${id}`, {})\r\n  },\r\n}\r\n\r\nexport const authAPI = {\r\n  auth() {\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false, captcha) {\r\n    return instance.post(`auth/login`, {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n      captcha,\r\n    })\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfileInfo(userId) {\r\n    return instance.get(`profile/${userId}`)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {\r\n      status,\r\n    })\r\n  },\r\n  savePhoto(photoFile) {\r\n    let formData = new FormData()\r\n    formData.append('image', photoFile)\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    })\r\n  },\r\n  saveData(data) {\r\n    return instance.put(`profile`, data)\r\n  },\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptcha() {\r\n    return instance.get(`security/get-captcha-url`)\r\n  },\r\n}\r\n","import { authAPI, securityAPI } from '../api/api'\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nconst SET_USER_DATA = 'samurai-JS/auth/SET_USER_DATA'\r\nconst TOGGLE_IS_FETCHING = 'samurai-JS/auth/TOGGLE_IS_FETCHING'\r\nconst GET_CAPTCHA = 'samuraiJS/auth/GET_CAPTCHA'\r\n\r\nlet initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false,\r\n  captchaUrl: null,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n\r\n    case GET_CAPTCHA:\r\n      return { ...state, captchaUrl: action.text }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { id, email, login, isAuth },\r\n})\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\n\r\nexport const getCaptchaUrlSucces = (text) => ({\r\n  type: GET_CAPTCHA,\r\n  text,\r\n})\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n  const response = await authAPI.auth()\r\n  if (response.data.resultCode === 0) {\r\n    const { id, email, login } = response.data.data\r\n    dispatch(setAuthUserData(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const userLogin =\r\n  (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(authMe())\r\n    } else {\r\n      if (response.data.resultCode === 10) {\r\n        dispatch(getCaptchaUrl())\r\n      }\r\n      const err =\r\n        response.data.messages.length > 0\r\n          ? response.data.messages[0]\r\n          : 'Some error'\r\n      dispatch(stopSubmit('login', { _error: err }))\r\n    }\r\n  }\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptcha()\r\n  const captchaUrl = response.data.url\r\n  dispatch(getCaptchaUrlSucces(captchaUrl))\r\n}\r\n\r\nexport const userLogOut = () => {\r\n  return async (dispatch) => {\r\n    const response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import React from 'react'\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux'\r\nimport { userLogOut } from './../../redux/authReducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n  isFetching: state.auth.isFetching,\r\n})\r\n\r\nexport default connect(mapStateToProps, { userLogOut })(HeaderContainer)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { reduxForm } from 'redux-form'\r\nimport { userLogin } from '../../redux/authReducer'\r\nimport { createField, Input } from './../common/FormsControl/FormsControl'\r\nimport { required } from '../../utils/validators'\r\nimport { Redirect } from 'react-router'\r\nimport s from './../common/FormsControl/FormsControl.module.css'\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField('Email', 'email', Input, [required], null)}\r\n      {createField('Password', 'password', Input, [required], 'password')}\r\n      {createField(null, 'rememberMe', Input, [], 'checkbox', 'Remember me')}\r\n      {captchaUrl && <img src={captchaUrl} />}\r\n      {captchaUrl &&\r\n        createField('Symbols form image', 'captcha', Input, [required], null)}\r\n\r\n      {error && <div className={s.formSummaryError}>{error}</div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login',\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = ({ email, password, rememberMe, captcha }) => {\r\n    props.userLogin(email, password, rememberMe, captcha)\r\n  }\r\n\r\n  return props.isAuth ? (\r\n    <Redirect to={'/profile'} />\r\n  ) : (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n  )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  captchaUrl: state.auth.captchaUrl,\r\n})\r\n\r\nexport default compose(connect(mapStateToProps, { userLogin }))(Login)\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/profile\" activeClassName={s.activeLink}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/settings\" activeClassName={s.activeLink}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.users}`}>\r\n        <NavLink to=\"/users\" activeClassName={s.activeLink}>\r\n          Find Users\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import { stopSubmit } from 'redux-form'\r\nimport { profileAPI } from '../api/api'\r\nconst ADD_POST = 'ADD_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCES = 'SAVE_PHOTO_SUCCES'\r\nconst TOOGLE_EDIT_MODE = 'TOOGLE_EDIT_MODE'\r\n\r\nlet initialState = {\r\n  postsData: [\r\n    { id: 1, message: 'How are you?' },\r\n    { id: 2, message: \"It's my first post\" },\r\n    { id: 3, message: \"It's my second post\" },\r\n    { id: 4, message: \"It's my 4th post\" },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n  editMode: false,\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        postsData: [\r\n          ...state.postsData,\r\n          {\r\n            id: 5,\r\n            message: action.postText,\r\n            like: 0,\r\n          },\r\n        ],\r\n      }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        postsData: state.postsData.filter((p) => p.id != action.postId),\r\n      }\r\n    }\r\n\r\n    case SET_USER_PROFILE:\r\n      return { ...state, profile: action.profile }\r\n\r\n    case SET_STATUS:\r\n      return { ...state, status: action.status }\r\n\r\n    case SAVE_PHOTO_SUCCES:\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n\r\n    case TOOGLE_EDIT_MODE:\r\n      return { ...state, editMode: action.editMode }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPost = (postText) => ({ type: ADD_POST, postText })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n})\r\n\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n})\r\n\r\nexport const savePhotoSucces = (photos) => ({ type: SAVE_PHOTO_SUCCES, photos })\r\n\r\nexport const toggleEditMode = (editMode) => ({\r\n  type: TOOGLE_EDIT_MODE,\r\n  editMode,\r\n})\r\n\r\nexport const getStatus = (userId) => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n  }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status))\r\n    }\r\n  }\r\n}\r\n\r\nexport const getProfileInfo = (userId) => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.getProfileInfo(userId)\r\n    dispatch(setUserProfile(response.data))\r\n  }\r\n}\r\n\r\nexport const savePhoto = (photoFile) => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(photoFile)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(savePhotoSucces(response.data.data.photos))\r\n    }\r\n  }\r\n}\r\n\r\nexport const saveData = (data) => {\r\n  return async (dispatch, getState) => {\r\n    const id = getState().auth.id\r\n    const response = await profileAPI.saveData(data)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(getProfileInfo(id))\r\n      dispatch(toggleEditMode(false))\r\n    } else {\r\n      dispatch(stopSubmit('profileForm', { _error: response.data.messages[0] }))\r\n    }\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","export default __webpack_public_path__ + \"static/media/profile.5faf09a7.png\";","import React from 'react'\r\nimport s from './Post.module.css'\r\nimport profileDefault from './../../../../assets/images/profile.png'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.itemBox}>\r\n      <div className={s.itemContent}>\r\n        <div className={s.imgBox}>\r\n          <img src={props.profile.photos.large || profileDefault} />\r\n        </div>\r\n        <div className={s.text}>{props.message}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators'\r\nimport { Textarea } from '../../common/FormsControl/FormsControl'\r\nconst maxLength70 = maxLengthCreator(70)\r\n\r\nconst MyPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field name=\"postText\" component={Textarea} validate={maxLength70} />\r\n      </div>\r\n      <div>\r\n        <button>Add Post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst MyPostReduxForm = reduxForm({\r\n  form: 'login',\r\n})(MyPostForm)\r\n\r\nconst PostsForm = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.addPostBtt(formData.postText)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <MyPostReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostsForm\r\n","import React from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport MyPostsForm from './MyPostsForm'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\n\r\nconst MyPosts = React.memo((props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  return (\r\n    <div className={s.postBlock}>\r\n      <h3>My posts</h3>\r\n      <div className={s.posts}>\r\n        {props.postsData.map((elem) => {\r\n          return (\r\n            <Post\r\n              message={elem.message}\r\n              key={elem.id}\r\n              profile={props.profile}\r\n            />\r\n          )\r\n        })}\r\n      </div>\r\n      <div>\r\n        <MyPostsForm addPostBtt={props.addPostBtt} />\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default MyPosts\r\n","import React from 'react'\r\nimport { addPost } from '../../../redux/profileReducer'\r\nimport { connect } from 'react-redux'\r\nimport MyPosts from './MyPosts'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.profilePage.postsData,\r\n    profile: state.profilePage.profile,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => ({\r\n  addPostBtt: (postText) => {\r\n    dispatch(addPost(postText))\r\n  },\r\n})\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import React, { useEffect, useState } from 'react'\r\nimport s from './../ProfileInfo.module.css'\r\n\r\nconst ProfileStatus = (props) => {\r\n  let [editMode, setEditMode] = useState(false)\r\n  let [status, setStatus] = useState(props.status)\r\n\r\n  let activateEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n\r\n  let deActivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatus(status)\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  return (\r\n    <div className={s.status}>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={props.isOwner && activateEditMode}>\r\n            {props.status || 'NO STATUS'}\r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            onChange={onStatusChange}\r\n            autoFocus={true}\r\n            onBlur={deActivateEditMode}\r\n            value={status}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus\r\n","import React from 'react'\r\nimport s from './../ProfileInfo.module.css'\r\nimport { reduxForm } from 'redux-form'\r\nimport { createField, Input } from '../../../common/FormsControl/FormsControl'\r\n\r\nconst EditeMode = ({ profile, submit, saveData }) => {\r\n  const submitForm = (formData) => {\r\n    saveData(formData)\r\n  }\r\n\r\n  return (\r\n    <div className={s.a0001}>\r\n      <div\r\n        className={s.edit}\r\n        onClick={() => {\r\n          submit('profileForm')\r\n        }}\r\n      >\r\n        Submit\r\n      </div>\r\n      <EditeModeFormRedux\r\n        profile={profile}\r\n        initialValues={profile}\r\n        onSubmit={submitForm}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst EditeModeForm = (props) => {\r\n  const { handleSubmit, profile, error } = props\r\n  return (\r\n    <form onSubmit={handleSubmit} className={s.infoBlock}>\r\n      {/* InfoBlock */}\r\n      <div className={s.infoBox}>\r\n        Info\r\n        <div className={s.infoBoxItem}>\r\n          <span className={s.key}>Full Name: </span>\r\n          {createField('Full Name', 'fullName', Input, [], null)}\r\n        </div>\r\n        <div className={s.infoBoxItem}>\r\n          <span className={s.key}>About me: </span>\r\n          {createField('About me', 'aboutMe', Input, [], null)}\r\n        </div>\r\n        <div className={s.infoBoxItem}>\r\n          <span className={s.key}>Is Looking For Job: </span>\r\n          {createField(null, 'lookingForAJob', Input, [], 'checkBox')}\r\n        </div>\r\n        <div className={s.infoBoxItem}>\r\n          <span className={s.key}>Job status: </span>\r\n          {createField(\r\n            'Job status',\r\n            'lookingForAJobDescription',\r\n            Input,\r\n            [],\r\n            null\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/* InfoBlock */}\r\n      {/* ContactsBlock */}\r\n      <div className={s.infoBox}>\r\n        Contacts\r\n        {Object.keys(profile.contacts).map((key) => {\r\n          return (\r\n            <div className={s.contactBoxItem}>\r\n              <span className={s.key}>{key}: </span>\r\n              <span className={s.property}>\r\n                {createField(null, `contacts.${key}`, Input, [], null)}\r\n              </span>\r\n              {error && <div className={s.formSummaryError}>{error}</div>}\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n      {/* ContactsBlock */}\r\n    </form>\r\n  )\r\n}\r\n\r\nconst EditeModeFormRedux = reduxForm({\r\n  form: 'profileForm',\r\n})(EditeModeForm)\r\n\r\nexport default EditeMode\r\n","import React from 'react'\r\nimport s from './../ProfileInfo.module.css'\r\nimport EditeMode from './EditeMode'\r\n\r\nconst ProfileData = (props) => {\r\n  return (\r\n    <>\r\n      {props.editMode ? (\r\n        <EditeMode {...props} />\r\n      ) : (\r\n        <StaticProfileData {...props} />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst StaticProfileData = ({ profile, toggleEditMode, isOwner }) => {\r\n  return (\r\n    <div className={s.a0001}>\r\n      {isOwner && (\r\n        <div\r\n          className={s.edit}\r\n          onClick={() => {\r\n            toggleEditMode(true)\r\n          }}\r\n        >\r\n          Edit Details\r\n        </div>\r\n      )}\r\n      <div className={s.infoBlock}>\r\n        {/* InfoBlock */}\r\n        <div className={s.infoBox}>\r\n          Info\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}>Full Name:</span>\r\n            <span className={s.propertyString}> {profile.fullName}</span>\r\n          </div>\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}>About me:</span>\r\n            <span className={s.propertyString}> {profile.aboutMe}</span>\r\n          </div>\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}>Is Looking For Job:</span>\r\n            {profile.lookingForAJob ? (\r\n              <span className={s.property}> Yes</span>\r\n            ) : (\r\n              <span className={s.property}> No</span>\r\n            )}\r\n          </div>\r\n          <div className={s.infoBoxItem}>\r\n            <span className={s.key}>Job status:</span>\r\n            <span className={s.propertyString}>\r\n              {' '}\r\n              {profile.lookingForAJobDescription}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        {/* InfoBlock */}\r\n        {/* ContactsBlock */}\r\n        <div className={s.infoBox}>\r\n          Contacts\r\n          {Object.keys(profile.contacts).map((key) => {\r\n            return (\r\n              <Contacts\r\n                contactTitle={key}\r\n                contactValue={profile.contacts[key]}\r\n              />\r\n            )\r\n          })}\r\n        </div>\r\n        {/* ContactsBlock */}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Contacts = ({ contactTitle, contactValue }) => {\r\n  return (\r\n    <div className={s.contactBoxItem}>\r\n      <span className={s.key}>{contactTitle}:</span>\r\n      <span className={s.property}> {contactValue}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileData\r\n","import React from 'react'\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus'\r\nimport profilePhoto from './../../../assets/images/profile.png'\r\nimport ProfileData from './ProfileData/ProfileData'\r\n\r\nconst ProfileInfo = (props) => {\r\n  const {\r\n    profile,\r\n    status,\r\n    updateStatus,\r\n    isOwner,\r\n    savePhoto,\r\n    toggleEditMode,\r\n    editMode,\r\n    saveData,\r\n    submit,\r\n  } = props\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={s.description}>\r\n      <div className={s.imgBox}>\r\n        <img className={s.ava} src={profile.photos.large || profilePhoto} />\r\n        {isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\r\n      </div>\r\n      <div>\r\n        <div className={s.name}>{profile.fullName}</div>\r\n        <ProfileStatus\r\n          isOwner={isOwner}\r\n          status={status}\r\n          updateStatus={updateStatus}\r\n        />\r\n        <ProfileData\r\n          profile={profile}\r\n          toggleEditMode={toggleEditMode}\r\n          isOwner={isOwner}\r\n          editMode={editMode}\r\n          saveData={saveData}\r\n          submit={submit}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo\r\n","import React from 'react'\r\nimport {\r\n  getProfileInfo,\r\n  getStatus,\r\n  updateStatus,\r\n  savePhoto,\r\n  toggleEditMode,\r\n  saveData,\r\n} from '../../redux/profileReducer'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router'\r\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect'\r\nimport { compose } from 'redux'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport { submit } from 'redux-form'\r\n\r\nclass Profile extends React.Component {\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId\r\n    }\r\n    this.props.getProfileInfo(userId)\r\n    this.props.getStatus(userId)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile()\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n      this.refreshProfile()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ProfileInfo\r\n          {...this.props}\r\n          isOwner={!this.props.match.params.userId}\r\n        />\r\n        <MyPostsContainer />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.id,\r\n  isAuth: state.auth.isAuth,\r\n  editMode: state.profilePage.editMode,\r\n})\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  withRouter,\r\n  connect(mapStateToProps, {\r\n    submit,\r\n    getProfileInfo,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    toggleEditMode,\r\n    saveData,\r\n  })\r\n)(Profile)\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropsName,\r\n  newObjProps\r\n) => {\r\n  return items.map((u) => {\r\n    if (u[objPropsName] === itemId) {\r\n      return { ...u, ...newObjProps }\r\n    }\r\n    return u\r\n  })\r\n}\r\n","import { usersAPI } from '../api/api'\r\nimport { updateObjectInArray } from '../utils/object-helpers'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_USERS_COUNT = 'SET_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 13,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n  portionSize: 10,\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: true,\r\n        }),\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: false,\r\n        }),\r\n      }\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      }\r\n\r\n    case SET_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.totalUsers }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.followingInProgress\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({\r\n  type: FOLLOW,\r\n  userId,\r\n})\r\n\r\nexport const unfollowSuccess = (userId) => ({\r\n  type: UNFOLLOW,\r\n  userId,\r\n})\r\n\r\nexport const setUsers = (users) => ({\r\n  type: SET_USERS,\r\n  users,\r\n})\r\n\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n})\r\n\r\nexport const setTotalUsersCount = (totalUsers) => ({\r\n  type: SET_USERS_COUNT,\r\n  totalUsers,\r\n})\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\n\r\nexport const toggleIsFollowingProgress = (followingInProgress, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  followingInProgress,\r\n  userId,\r\n})\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(currentPage))\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleIsFollowingProgress(true, userId))\r\n  let response = await apiMethod(userId)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.follow.bind(userId),\r\n      followSuccess\r\n    )\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.unfollow.bind(userId),\r\n      unfollowSuccess\r\n    )\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import React from 'react'\r\nimport styles from './Pagination.module.css'\r\n\r\nlet Pagination = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n  let before = currentPage - 1\r\n  before = before < 1 ? null : before\r\n  let after = currentPage + 1\r\n  after = after >= pagesCount ? null : after\r\n\r\n  return (\r\n    <div className={styles.paginator}>\r\n      {/* pagination */}\r\n      {/* first page */}\r\n      <div>\r\n        {currentPage === 1 ? null : (\r\n          <>\r\n            <span\r\n              onClick={() => {\r\n                onPageChanged(1)\r\n              }}\r\n            >\r\n              {1}\r\n            </span>\r\n            <span>...</span>\r\n          </>\r\n        )}\r\n\r\n        {/* first page */}\r\n        {/* before current page */}\r\n        <span\r\n          onClick={() => {\r\n            onPageChanged(before)\r\n          }}\r\n        >\r\n          {currentPage < 3 ? null : <span>{before}</span>}\r\n        </span>\r\n        {/* before current page */}\r\n        {/* current page */}\r\n        <span>\r\n          {currentPage < 3 ? null : <span>..</span>}\r\n          <span className={styles.selectedPage}>{currentPage}</span>\r\n          {currentPage > pagesCount - 2 ? null : <span>..</span>}\r\n        </span>\r\n        {/* current page */}\r\n        {/* after current page */}\r\n        <span\r\n          onClick={() => {\r\n            onPageChanged(after)\r\n          }}\r\n        >\r\n          {after}\r\n        </span>\r\n        {/* after current page */}\r\n        {/* last page */}\r\n\r\n        {currentPage === pagesCount ? null : (\r\n          <>\r\n            <span>...</span>\r\n            <span\r\n              onClick={() => {\r\n                onPageChanged(pagesCount)\r\n              }}\r\n            >\r\n              {pagesCount}\r\n            </span>\r\n          </>\r\n        )}\r\n        {/* last page */}\r\n      </div>\r\n      {/* pagination */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport styles from './Users.module.css'\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow, isAuth }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        <NavLink to={`/profile/${user.id}`}>\r\n          <img\r\n            src={\r\n              user.photos.small != null\r\n                ? user.photos.small\r\n                : 'https://www.pavilionweb.com/wp-content/uploads/2017/03/man-300x300.png'\r\n            }\r\n            className={styles.userPhoto}\r\n          />\r\n        </NavLink>\r\n      </div>\r\n      {isAuth && (\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id)\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id)\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div>{user.name}</div>\r\n      <div>{user.status}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport Pagination from '../common/Pagination/Pagination'\r\nimport User from './User'\r\n\r\nlet Users = ({\r\n  currentPage,\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  portionSize,\r\n  isAuth,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalItemsCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n        portionSize={portionSize}\r\n      />\r\n      {users.map((u) => (\r\n        <User\r\n          user={u}\r\n          key={u.id}\r\n          followingInProgress={props.followingInProgress}\r\n          unfollow={props.unfollow}\r\n          follow={props.follow}\r\n          isAuth={isAuth}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","import { createSelector } from 'reselect'\r\n\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getUsersData = createSelector(getUsersSelector, (users) => {\r\n  return users.filter((u) => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\nexport const getPortionSize = (state) => {\r\n  return state.usersPage.portionSize\r\n}\r\n\r\nexport const getIsAuth = (state) => {\r\n  return state.auth.isAuth\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  setCurrentPage,\r\n  getUsers,\r\n} from '../../redux/usersReducer'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { compose } from 'redux'\r\nimport {\r\n  getIsFetching,\r\n  getPageSize,\r\n  getUsersData,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getPortionSize,\r\n  getIsAuth,\r\n} from '../../redux/usersSelectors'\r\nimport { withAuthRedirect } from './../../hoc/WithAuthRedirect'\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.setCurrentPage(pageNumber)\r\n    this.props.getUsers(pageNumber, this.props.pageSize)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? (\r\n          <Preloader />\r\n        ) : (\r\n          <Users\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            pageSize={this.props.pageSize}\r\n            portionSize={this.props.portionSize}\r\n            currentPage={this.props.currentPage}\r\n            onPageChanged={this.onPageChanged}\r\n            users={this.props.users}\r\n            follow={this.props.follow}\r\n            unfollow={this.props.unfollow}\r\n            followingInProgress={this.props.followingInProgress}\r\n            isAuth={this.props.isAuth}\r\n          />\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersData(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n    portionSize: getPortionSize(state),\r\n    isAuth: getIsAuth(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  // withAuthRedirect,\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    getUsers,\r\n  })\r\n)(UsersContainer)\r\n","import { authMe } from './authReducer'\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(authMe())\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\nexport default appReducer\r\n","let initialState = {\r\n  friendsData: [\r\n    {\r\n      name: 'Dima',\r\n      img: 'https://meragor.com/files/styles//ava_800_800_wm/standoff_162.jpg',\r\n    },\r\n    {\r\n      name: 'Andrey',\r\n      img:\r\n        'https://avatars.mds.yandex.net/get-zen_doc/3512693/pub_5efb3ff066fe1d5006536937_5efb4be4cdd4d637ce0fd2e8/scale_1200',\r\n    },\r\n    {\r\n      name: 'Maxim',\r\n      img:\r\n        'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTn8H3mqnU943_lgdPtj-JIGRjyKAlp3FSLzg&usqp=CAU',\r\n    },\r\n  ],\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\r\nimport authReducer from './authReducer'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport profileReducer from './profileReducer'\r\nimport sidebarReducer from './sidebarReducer'\r\nimport usersReducer from './usersReducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './appReducer'\r\n\r\nlet reducers = combineReducers({\r\n  dialogsPage: dialogsReducer,\r\n  profilePage: profileReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n)\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store\r\n","import React, { Suspense } from 'react'\r\nimport Preloader from '../components/common/Preloader/Preloader'\r\n\r\nexport const LazyLoading = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <>\r\n        <Suspense fallback={<Preloader />}>\r\n          <Component {...props} />\r\n        </Suspense>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LazyLoading\r\n","import React from 'react'\nimport { Component } from 'react'\nimport { HashRouter, Route, withRouter } from 'react-router-dom'\nimport './App.css'\nimport DialogsContainer from './components/Dialogs/DialogsContainer'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport Login from './components/Login/Login'\nimport Navbar from './components/Navbar/Navbar'\nimport Profile from './components/Profile/ProfileContainer'\nimport UsersContainer from './components/Users/UsersContainer'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { initializeApp } from './redux/appReducer'\nimport Preloader from './components/common/Preloader/Preloader'\nimport store from './redux/reduxStore'\nimport { Provider } from 'react-redux'\nimport LazyLoading from './hoc/LazyLoading'\nimport { Redirect } from 'react-router'\n\nconst SettingsContainer = React.lazy(() =>\n  import('./components/Settings/Settings')\n)\n\nclass App extends Component {\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\n    alert('Some error occured')\n    console.error(promiseRejectionEvent)\n  }\n\n  componentDidMount() {\n    this.props.initializeApp()\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\n      'unhandledrejection',\n      this.catchAllUnhandledErrors\n    )\n  }\n\n  render() {\n    if (!this.props.initialized) return <Preloader />\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <div className=\"all-info-page\">\n          <Navbar />\n          <div className=\"contextBox\">\n            <Route exact=\"/\" render={() => <Redirect to={'/profile'} />} />\n            <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n            <Route path=\"/profile/:userId?\" render={() => <Profile />} />\n            <Route path=\"/settings\" render={LazyLoading(SettingsContainer)} />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n            <Route path=\"/login\" render={() => <Login />} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n})\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App)\n\nconst SamuraiJSApp = (props) => {\n  return (\n    <React.StrictMode>\n      <HashRouter>\n        <Provider store={store}>\n          <AppContainer />\n        </Provider>\n      </HashRouter>\n    </React.StrictMode>\n  )\n}\n\nexport default SamuraiJSApp\n","import reportWebVitals from './reportWebVitals'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport SamuraiJSApp from './App'\n\nReactDOM.render(<SamuraiJSApp />, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  )\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__3c4w2\",\"err\":\"FormsControl_err__A2dut\",\"formSummaryError\":\"FormsControl_formSummaryError__JSrAT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__35PTw\",\"dialogsItems\":\"Dialogs_dialogsItems__1LdbS\",\"addBlock\":\"Dialogs_addBlock__i-3rP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__28SWE\",\"item\":\"DialogItem_item__1tDvT\",\"name\":\"DialogItem_name__Jg0N_\",\"activeLink\":\"DialogItem_activeLink__Dlkmc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemBox\":\"Post_itemBox__2J8Mx\",\"itemContent\":\"Post_itemContent__qLEcN\",\"imgBox\":\"Post_imgBox__3E9VG\",\"text\":\"Post_text__1Gw6X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__dIfKa\",\"imgBox\":\"ProfileInfo_imgBox__10WHV\",\"ava\":\"ProfileInfo_ava__3A2Or\",\"name\":\"ProfileInfo_name__3J0j-\",\"status\":\"ProfileInfo_status__3QP5Y\",\"a0001\":\"ProfileInfo_a0001__IGcPV\",\"edit\":\"ProfileInfo_edit__1JZbG\",\"infoBlock\":\"ProfileInfo_infoBlock__te5So\",\"infoBox\":\"ProfileInfo_infoBox__14u83\",\"infoBoxItem\":\"ProfileInfo_infoBoxItem__2Tu06\",\"contactBoxItem\":\"ProfileInfo_contactBoxItem__1Hxns\",\"key\":\"ProfileInfo_key__12JgN\",\"property\":\"ProfileInfo_property__7YOSF\",\"propertyString\":\"ProfileInfo_propertyString__3VxKN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1aDUx\",\"loginBlock\":\"Header_loginBlock__3SCHH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__15PaX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Pagination_selectedPage__2ynfE\",\"paginator\":\"Pagination_paginator__1DnLe\",\"pageNumber\":\"Pagination_pageNumber__1D9IR\"};"],"sourceRoot":""}